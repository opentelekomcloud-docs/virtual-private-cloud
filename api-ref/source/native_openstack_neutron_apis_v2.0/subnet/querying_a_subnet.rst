:original_name: vpc_subnet02_0002.html

.. _vpc_subnet02_0002:

Querying a Subnet
=================

Function
--------

This API is used to query details about a subnet.

URI
---

GET /v2.0/subnets/{subnet_id}

Request Parameters
------------------

None

Example Request
---------------

.. code-block:: text

   GET https://{Endpoint}/v2.0/subnets/011fc878-5521-4654-a1ad-f5b0b5820302

Response Parameters
-------------------

.. table:: **Table 1** Response parameter

   +-----------+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------+
   | Parameter | Type                                                        | Description                                                                                   |
   +===========+=============================================================+===============================================================================================+
   | subnet    | :ref:`subnet <vpc_subnet02_0002__table176735992713>` object | Specifies the subnet. For details, see :ref:`Table 2 <vpc_subnet02_0002__table176735992713>`. |
   +-----------+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------+

.. _vpc_subnet02_0002__table176735992713:

.. table:: **Table 2** **subnet** objects

   +------------------------+---------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Attribute              | Type                                                                            | Description                                                                                                                                                                                                                                                                                                                              |
   +========================+=================================================================================+==========================================================================================================================================================================================================================================================================================================================================+
   | id                     | String                                                                          | Specifies the subnet ID.                                                                                                                                                                                                                                                                                                                 |
   |                        |                                                                                 |                                                                                                                                                                                                                                                                                                                                          |
   |                        |                                                                                 | This parameter is not mandatory when you query subnets.                                                                                                                                                                                                                                                                                  |
   +------------------------+---------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | name                   | String                                                                          | Specifies the subnet name.                                                                                                                                                                                                                                                                                                               |
   +------------------------+---------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ip_version             | Integer                                                                         | Specifies the IP address version.                                                                                                                                                                                                                                                                                                        |
   |                        |                                                                                 |                                                                                                                                                                                                                                                                                                                                          |
   |                        |                                                                                 | The value can be **4** (IPv4) or **6** (IPv6).                                                                                                                                                                                                                                                                                           |
   +------------------------+---------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ipv6_address_mode      | String                                                                          | Specifies the IPv6 addressing mode.                                                                                                                                                                                                                                                                                                      |
   |                        |                                                                                 |                                                                                                                                                                                                                                                                                                                                          |
   |                        |                                                                                 | Only **dhcpv6-stateful** is supported.                                                                                                                                                                                                                                                                                                   |
   +------------------------+---------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ipv6_ra_mode           | String                                                                          | Specifies the IPv6 route broadcast mode.                                                                                                                                                                                                                                                                                                 |
   |                        |                                                                                 |                                                                                                                                                                                                                                                                                                                                          |
   |                        |                                                                                 | Only **dhcpv6-stateful** is supported.                                                                                                                                                                                                                                                                                                   |
   +------------------------+---------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | network_id             | String                                                                          | Specifies the ID of the network to which the subnet belongs.                                                                                                                                                                                                                                                                             |
   +------------------------+---------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | cidr                   | String                                                                          | Specifies the CIDR format.                                                                                                                                                                                                                                                                                                               |
   |                        |                                                                                 |                                                                                                                                                                                                                                                                                                                                          |
   |                        |                                                                                 | Only the IPv4 addresses in the 10.0.0.0/8, 172.16.0.0/12, and 192.168.0.0/16 ranges are supported. The subnet mask cannot be greater than 28.                                                                                                                                                                                            |
   +------------------------+---------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | gateway_ip             | String                                                                          | The gateway IP address cannot conflict with IP addresses configured for **allocation_pools**.                                                                                                                                                                                                                                            |
   |                        |                                                                                 |                                                                                                                                                                                                                                                                                                                                          |
   |                        |                                                                                 | This attribute cannot be modified.                                                                                                                                                                                                                                                                                                       |
   +------------------------+---------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | allocation_pools       | Array of :ref:`allocation_pool <vpc_subnet02_0002__table1777145918276>` objects | Specifies the available IP address pool. For details, see :ref:`Table 3 <vpc_subnet02_0002__table1777145918276>`.                                                                                                                                                                                                                        |
   |                        |                                                                                 |                                                                                                                                                                                                                                                                                                                                          |
   |                        |                                                                                 | Example: [ { "start": "10.0.0.2", "end": "10.0.0.251"} ]                                                                                                                                                                                                                                                                                 |
   |                        |                                                                                 |                                                                                                                                                                                                                                                                                                                                          |
   |                        |                                                                                 | The last three and the first IP addresses in each subnet are the ones reserved by the system. For example, in subnet **192.168.1.0/24**, IP addresses 192.168.1.0, 192.168.1.253, 192.168.1.254, and 192.168.1.255 are reserved by the system.                                                                                           |
   |                        |                                                                                 |                                                                                                                                                                                                                                                                                                                                          |
   |                        |                                                                                 | [{"start": "2001:db8:a583:9::2", "end": "2001:db8:a583:9:ffff:ffff:ffff:fffc"}]                                                                                                                                                                                                                                                          |
   |                        |                                                                                 |                                                                                                                                                                                                                                                                                                                                          |
   |                        |                                                                                 | In IPv6 subnet 2001:db8:a583:9::/64, IP addresses 2001:db8:a583:9::1, 2001:db8:a583:9:ffff:ffff:ffff:fffd, 2001:db8:a583:9:ffff:ffff:ffff:fffe, and 2001:db8:a583:9:ffff:ffff:ffff:ffff are reserved by the system. By default, the IP addresses reserved by the system are not in the IP address pool specified by **allocation_pool**. |
   |                        |                                                                                 |                                                                                                                                                                                                                                                                                                                                          |
   |                        |                                                                                 | When updating an IP address pool, the **allocation_pool** value can contain neither gateway nor broadcast IP addresses.                                                                                                                                                                                                                  |
   +------------------------+---------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | dns_nameservers        | Array of strings                                                                | Specifies the DNS server address.                                                                                                                                                                                                                                                                                                        |
   |                        |                                                                                 |                                                                                                                                                                                                                                                                                                                                          |
   |                        |                                                                                 | Example: "dns_nameservers": ["8.xx.xx.8","8.xx.xx.4"]                                                                                                                                                                                                                                                                                    |
   +------------------------+---------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | host_routes            | Array of :ref:`host_route <vpc_subnet02_0002__table177865912715>` objects       | Specifies the static VM routes. For details, see :ref:`Table 4 <vpc_subnet02_0002__table177865912715>`.                                                                                                                                                                                                                                  |
   |                        |                                                                                 |                                                                                                                                                                                                                                                                                                                                          |
   |                        |                                                                                 | Static routes are not supported, and entered information will be ignored.                                                                                                                                                                                                                                                                |
   +------------------------+---------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | tenant_id              | String                                                                          | Specifies the project ID.                                                                                                                                                                                                                                                                                                                |
   +------------------------+---------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | enable_dhcp            | Boolean                                                                         | Specifies whether to enable the DHCP function. Value **false** indicates that the DHCP function is not enabled.                                                                                                                                                                                                                          |
   |                        |                                                                                 |                                                                                                                                                                                                                                                                                                                                          |
   |                        |                                                                                 | The value can only be **true**.                                                                                                                                                                                                                                                                                                          |
   +------------------------+---------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | use_default_subnetpool | Boolean                                                                         | Specifies whether the default address pool is used.                                                                                                                                                                                                                                                                                      |
   |                        |                                                                                 |                                                                                                                                                                                                                                                                                                                                          |
   |                        |                                                                                 | The value can be set to **true** only when IPv6 is used.                                                                                                                                                                                                                                                                                 |
   +------------------------+---------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | subnetpool_id          | String                                                                          | Specifies the subnet pool ID.                                                                                                                                                                                                                                                                                                            |
   |                        |                                                                                 |                                                                                                                                                                                                                                                                                                                                          |
   |                        |                                                                                 | Currently, only IPv6 is supported.                                                                                                                                                                                                                                                                                                       |
   +------------------------+---------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | project_id             | String                                                                          | Specifies the project ID.                                                                                                                                                                                                                                                                                                                |
   +------------------------+---------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | created_at             | String                                                                          | Specifies the time (UTC) when the subnet is created.                                                                                                                                                                                                                                                                                     |
   |                        |                                                                                 |                                                                                                                                                                                                                                                                                                                                          |
   |                        |                                                                                 | Format: *yyyy-MM-ddTHH:mm:ss*                                                                                                                                                                                                                                                                                                            |
   +------------------------+---------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | updated_at             | String                                                                          | Specifies the time (UTC) when the subnet is updated.                                                                                                                                                                                                                                                                                     |
   |                        |                                                                                 |                                                                                                                                                                                                                                                                                                                                          |
   |                        |                                                                                 | Format: *yyyy-MM-ddTHH:mm:ss*                                                                                                                                                                                                                                                                                                            |
   +------------------------+---------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _vpc_subnet02_0002__table1777145918276:

.. table:: **Table 3** **allocation_pool** objects

   ========= ====== =================================================
   Parameter Type   Remarks
   ========= ====== =================================================
   start     String Specifies the start IP address of a network pool.
   end       String Specifies the end IP address of a network pool.
   ========= ====== =================================================

.. _vpc_subnet02_0002__table177865912715:

.. table:: **Table 4** **host_route** objects

   =========== ====== =============================================
   Parameter   Type   Remarks
   =========== ====== =============================================
   destination String Specifies the destination subnet of a route.
   nexthop     String Specifies the next-hop IP address of a route.
   =========== ====== =============================================

Example Response
----------------

.. code-block::

   {
       "subnet": {
           "name": "kesmdemeet",
           "cidr": "172.16.236.0/24",
           "id": "011fc878-5521-4654-a1ad-f5b0b5820302",
           "enable_dhcp": true,
           "project_id": "bbfe8c41dd034a07bebd592bf03b4b0c",
           "dns_nameservers": [],
           "allocation_pools": [
               {
                   "start": "172.16.236.2",
                   "end": "172.16.236.251"
               }
           ],
           "host_routes": [],
           "ip_version": 4,
           "gateway_ip": "172.16.236.1",
           "created_at": "2018-03-26T08:23:43",
           "updated_at": "2018-03-26T08:23:44"
       }
   }

Status Code
-----------

See :ref:`Status Codes <vpc_api_0002>`.

Error Code
----------

See :ref:`Error Codes <vpc_api_0003>`.
