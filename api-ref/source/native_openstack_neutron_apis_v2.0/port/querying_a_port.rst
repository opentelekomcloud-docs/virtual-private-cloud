:original_name: vpc_port02_0002.html

.. _vpc_port02_0002:

Querying a Port
===============

Function
--------

This API is used to query details about a specified port.

URI
---

GET /v2.0/ports/{port_id}

:ref:`Table 1 <vpc_port02_0002__table59011559707>` describes the parameters.

.. _vpc_port02_0002__table59011559707:

.. table:: **Table 1** Parameter description

   +-----------+-----------+----------------------------------------------------------+
   | Parameter | Mandatory | Description                                              |
   +===========+===========+==========================================================+
   | port_id   | Yes       | Specifies the port ID that uniquely identifies the port. |
   +-----------+-----------+----------------------------------------------------------+

Request Parameters
------------------

None

Example Request
---------------

.. code-block:: text

   GET https://{Endpoint}/v2.0/ports/791870bd-36a7-4d9b-b015-a78e9b06af08

Response Parameters
-------------------

.. table:: **Table 2** Response parameter

   +-----------+-----------------------------------------------------------+---------------------------------------------------------------------------------------------------------+
   | Parameter | Type                                                      | Description                                                                                             |
   +===========+===========================================================+=========================================================================================================+
   | port      | :ref:`port <vpc_port02_0002__table15919752145624>` object | Specifies the port object list. For details, see :ref:`Table 3 <vpc_port02_0002__table15919752145624>`. |
   +-----------+-----------------------------------------------------------+---------------------------------------------------------------------------------------------------------+

.. _vpc_port02_0002__table15919752145624:

.. table:: **Table 3** **port** objects

   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                                                                  | Description                                                                                                                                                                                                                                                                                                                                                                                                                               |
   +=======================+=======================================================================================================+===========================================================================================================================================================================================================================================================================================================================================================================================================================================+
   | id                    | String                                                                                                | -  Specifies the port ID. The value can contain a maximum of 255 characters.                                                                                                                                                                                                                                                                                                                                                              |
   |                       |                                                                                                       | -  This parameter is not mandatory when you query ports.                                                                                                                                                                                                                                                                                                                                                                                  |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | name                  | String                                                                                                | Specifies the port name.                                                                                                                                                                                                                                                                                                                                                                                                                  |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | network_id            | String                                                                                                | Specifies the ID of the network that the port belongs to.                                                                                                                                                                                                                                                                                                                                                                                 |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | admin_state_up        | Boolean                                                                                               | -  Specifies the administrative state of the port.                                                                                                                                                                                                                                                                                                                                                                                        |
   |                       |                                                                                                       | -  The default value is **true**.                                                                                                                                                                                                                                                                                                                                                                                                         |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | mac_address           | String                                                                                                | -  Specifies the port MAC address, for example, **"mac_address": "fa:16:3e:9e:ff:55"**.                                                                                                                                                                                                                                                                                                                                                   |
   |                       |                                                                                                       | -  The MAC address can only be dynamically assigned by the system.                                                                                                                                                                                                                                                                                                                                                                        |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | fixed_ips             | Array of :ref:`fixed_ip <vpc_port02_0002__table4290920914597>` objects                                | -  Specifies the port IP address. For details, see :ref:`Table 4 <vpc_port02_0002__table4290920914597>`.                                                                                                                                                                                                                                                                                                                                  |
   |                       |                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   |                       |                                                                                                       |    For example, the value is **"fixed_ips": [{"subnet_id": "4dc70db6-cb7f-4200-9790-a6a910776bba", "ip_address": "192.169.25.79"}]**.                                                                                                                                                                                                                                                                                                     |
   |                       |                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   |                       |                                                                                                       |    **"fixed_ips": [{"subnet_id": "1fd001aa-6946-4168-86d9-924c7d3ef8fb", "ip_address": "2a07:b980:4030:14::1"}]**.                                                                                                                                                                                                                                                                                                                        |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | device_id             | String                                                                                                | -  Specifies the device ID.                                                                                                                                                                                                                                                                                                                                                                                                               |
   |                       |                                                                                                       | -  This parameter is automatically maintained by the system and cannot be set or updated manually. The port with this field specified cannot be deleted.                                                                                                                                                                                                                                                                                  |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | device_owner          | String                                                                                                | -  Specifies the belonged device, which can be the DHCP server, router, or Nova.                                                                                                                                                                                                                                                                                                                                                          |
   |                       |                                                                                                       | -  The value can be **network:dhcp**, **network:router_interface_distributed**, **compute:xxx**, **neutron:VIP_PORT**, **neutron:LOADBALANCERV2**, **neutron:LOADBALANCERV3**, **network:endpoint_interface**, **network:nat_gateway**, or **network:ucmp**. (In value **compute:xxx**, **xxx** specifies the AZ name, for example, **compute:aa-bb-cc** indicates that the private IP address is used by an ECS in the **aa-bb-cc** AZ). |
   |                       |                                                                                                       | -  Instructions:                                                                                                                                                                                                                                                                                                                                                                                                                          |
   |                       |                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   |                       |                                                                                                       |    -  This parameter value cannot be updated. You can only set **device_owner** to **neutron:VIP_PORT** for a virtual IP address port during port creation. If this parameter is not left blank, the port can only be deleted when this parameter value is **neutron:VIP_PORT**.                                                                                                                                                          |
   |                       |                                                                                                       |    -  The port with this field specified cannot be deleted.                                                                                                                                                                                                                                                                                                                                                                               |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | tenant_id             | String                                                                                                | Specifies the project ID.                                                                                                                                                                                                                                                                                                                                                                                                                 |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | status                | String                                                                                                | -  Specifies the port status.                                                                                                                                                                                                                                                                                                                                                                                                             |
   |                       |                                                                                                       | -  The value can be **ACTIVE**, **BUILD**, or **DOWN**.                                                                                                                                                                                                                                                                                                                                                                                   |
   |                       |                                                                                                       | -  The status of a HANA SR-IOV VM port is always **DOWN**.                                                                                                                                                                                                                                                                                                                                                                                |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | security_groups       | Array of strings                                                                                      | -  Specifies the security group UUID, for example, "security_groups": ["a0608cbf-d047-4f54-8b28-cd7b59853fff"]. This is an extended attribute.                                                                                                                                                                                                                                                                                            |
   |                       |                                                                                                       | -  This parameter cannot be left blank.                                                                                                                                                                                                                                                                                                                                                                                                   |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | allowed_address_pairs | Array of :ref:`allowed_address_pairs <vpc_port02_0002__en-us_topic_0062207355_table57914257>` objects | -  Specifies the IP address and MAC address pair. This is an extended attribute. For details, see :ref:`Table 5 <vpc_port02_0002__en-us_topic_0062207355_table57914257>`.                                                                                                                                                                                                                                                                 |
   |                       |                                                                                                       | -  Instructions:                                                                                                                                                                                                                                                                                                                                                                                                                          |
   |                       |                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   |                       |                                                                                                       |    -  The IP address cannot be **0.0.0.0**.                                                                                                                                                                                                                                                                                                                                                                                               |
   |                       |                                                                                                       |    -  Configure a dedicated security group for the port if the parameter **allowed_address_pairs** has a large CIDR block (subnet mask less than 24).                                                                                                                                                                                                                                                                                     |
   |                       |                                                                                                       |    -  If the value of **allowed_address_pairs** is **1.1.1.1/0**, the source/destination check is disabled.                                                                                                                                                                                                                                                                                                                               |
   |                       |                                                                                                       |    -  In the hardware SDN networking plan, the **ip_address** attribute value cannot be in CIDR format.                                                                                                                                                                                                                                                                                                                                   |
   |                       |                                                                                                       |    -  To assign a virtual IP address to an ECS, the IP address configured in **allowed_address_pairs** must be an existing ECS NIC IP address. Otherwise, the virtual IP address cannot be used for communication.                                                                                                                                                                                                                        |
   |                       |                                                                                                       |    -  Set **allowed_address_pairs** of the cloud server to **1.1.1.1/0**.                                                                                                                                                                                                                                                                                                                                                                 |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | extra_dhcp_opts       | Array of :ref:`extra_dhcp_opt <vpc_port02_0002__table5056075615524>` objects                          | Specifies the extended DHCP option. This is an extended attribute. For details, see :ref:`Table 6 <vpc_port02_0002__table5056075615524>`.                                                                                                                                                                                                                                                                                                 |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | binding:vif_details   | :ref:`binding:vif_details <vpc_port02_0002__table72371439857>` object                                 | For details, see :ref:`Table 8 <vpc_port02_0002__table72371439857>`.                                                                                                                                                                                                                                                                                                                                                                      |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | binding:profile       | binding:profile object                                                                                | -  Specifies the user-defined settings. This is an extended attribute.                                                                                                                                                                                                                                                                                                                                                                    |
   |                       |                                                                                                       | -  Instructions:                                                                                                                                                                                                                                                                                                                                                                                                                          |
   |                       |                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   |                       |                                                                                                       |    -  The **internal_elb** field is in boolean type and is available to common tenants. Set the value of this parameter to **true** only when you assign a virtual IP address to an internal network load balancer. The value of this field is maintained by the system and cannot be changed. Example:                                                                                                                                   |
   |                       |                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   |                       |                                                                                                       |       {"internal_elb": true}                                                                                                                                                                                                                                                                                                                                                                                                              |
   |                       |                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   |                       |                                                                                                       |    -  The **disable_security_groups** field is in boolean type and is available to common tenants. The default value is **false**. In high-performance communication scenarios, you can set the parameter value to **true**, which makes this parameter to be available to common tenants. You can specify this parameter when creating a port. Currently, the value of this parameter can only be set to **true**.                       |
   |                       |                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   |                       |                                                                                                       |       Example:                                                                                                                                                                                                                                                                                                                                                                                                                            |
   |                       |                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   |                       |                                                                                                       |       {"disable_security_groups": true }                                                                                                                                                                                                                                                                                                                                                                                                  |
   |                       |                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   |                       |                                                                                                       |       Currently, the value can only be set to **true**. When the value is set to **true**, the FWaaS function does not take effect.                                                                                                                                                                                                                                                                                                       |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | binding:vnic_type     | String                                                                                                | -  Specifies the type of the bound vNIC.                                                                                                                                                                                                                                                                                                                                                                                                  |
   |                       |                                                                                                       | -  The value can be:                                                                                                                                                                                                                                                                                                                                                                                                                      |
   |                       |                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   |                       |                                                                                                       |    -  **normal** indicates software switching.                                                                                                                                                                                                                                                                                                                                                                                            |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | port_security_enabled | Boolean                                                                                               | Specifies whether the security option is enabled for the port.                                                                                                                                                                                                                                                                                                                                                                            |
   |                       |                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   |                       |                                                                                                       | **true** indicates that security groups can be added and DHCP anti-spoofing is enabled. **false** indicates that security groups and DHCP anti-spoofing are not applied.                                                                                                                                                                                                                                                                  |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | dns_assignment        | Array of :ref:`dns_assignment <vpc_port02_0002__table1960316535179>` objects                          | -  Specifies the default private domain name information of the primary NIC. This is an extended attribute.                                                                                                                                                                                                                                                                                                                               |
   |                       |                                                                                                       | -  This parameter is automatically maintained by the system and cannot be set or updated manually.                                                                                                                                                                                                                                                                                                                                        |
   |                       |                                                                                                       | -  The value can be:                                                                                                                                                                                                                                                                                                                                                                                                                      |
   |                       |                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   |                       |                                                                                                       |    -  **hostname**: The same as the value specified for **dns_name**.                                                                                                                                                                                                                                                                                                                                                                     |
   |                       |                                                                                                       |    -  **ip_address**: Private IPv4 address of the port.                                                                                                                                                                                                                                                                                                                                                                                   |
   |                       |                                                                                                       |    -  **fqdn**: Private network fully qualified domain name (FQDN) of the port.                                                                                                                                                                                                                                                                                                                                                           |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | dns_name              | String                                                                                                | -  Specifies the default private network DNS name of the primary NIC. This is an extended attribute.                                                                                                                                                                                                                                                                                                                                      |
   |                       |                                                                                                       | -  This parameter is automatically maintained by the system and cannot be set or updated manually. Before accessing the default private network domain name, ensure that the subnet uses the DNS provided by the current system.                                                                                                                                                                                                          |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | project_id            | String                                                                                                | Specifies the project ID.                                                                                                                                                                                                                                                                                                                                                                                                                 |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | created_at            | String                                                                                                | -  Specifies the time (UTC) when the port is created.                                                                                                                                                                                                                                                                                                                                                                                     |
   |                       |                                                                                                       | -  Format: *yyyy-MM-ddTHH:mm:ss*                                                                                                                                                                                                                                                                                                                                                                                                          |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | updated_at            | String                                                                                                | -  Specifies the time (UTC) when the port is updated.                                                                                                                                                                                                                                                                                                                                                                                     |
   |                       |                                                                                                       | -  Format: *yyyy-MM-ddTHH:mm:ss*                                                                                                                                                                                                                                                                                                                                                                                                          |
   +-----------------------+-------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _vpc_port02_0002__table4290920914597:

.. table:: **Table 4** **fixed_ip** objects

   +-----------------------+-----------------------+--------------------------------------+
   | Parameter             | Type                  | Description                          |
   +=======================+=======================+======================================+
   | subnet_id             | String                | -  Specifies the subnet ID.          |
   |                       |                       | -  This parameter cannot be updated. |
   +-----------------------+-----------------------+--------------------------------------+
   | ip_address            | String                | -  Specifies the port IP address.    |
   |                       |                       | -  This parameter cannot be updated. |
   +-----------------------+-----------------------+--------------------------------------+

.. _vpc_port02_0002__en-us_topic_0062207355_table57914257:

.. table:: **Table 5** **allowed_address_pairs** objects

   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                                                        |
   +=================+=================+=================+====================================================================================================================================================+
   | ip_address      | Yes             | String          | -  Specifies the IP address.                                                                                                                       |
   |                 |                 |                 | -  You cannot set it to **0.0.0.0/0**.                                                                                                             |
   |                 |                 |                 | -  Configure a dedicated security group for the port if the parameter **allowed_address_pairs** has a large CIDR block (subnet mask less than 24). |
   |                 |                 |                 | -  If the value of **allowed_address_pairs** is **1.1.1.1/0**, the source/destination check is disabled.                                           |
   |                 |                 |                 | -  Set **allowed_address_pairs** of the cloud server to **1.1.1.1/0**.                                                                             |
   |                 |                 |                 | -  If the value of parameter **allowed_address_pairs** is specified, parameter **ip_address** is mandatory.                                        |
   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
   | mac_address     | No              | String          | Specifies the MAC address. By default, the MAC address of the local port is used.                                                                  |
   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------------------------------------------------------+

.. _vpc_port02_0002__table5056075615524:

.. table:: **Table 6** **extra_dhcp_opt** objects

   ========= ====== ===========================
   Parameter Type   Description
   ========= ====== ===========================
   opt_name  String Specifies the option name.
   opt_value String Specifies the option value.
   ========= ====== ===========================

.. _vpc_port02_0002__table1960316535179:

.. table:: **Table 7** **dns_assignment** object

   +------------+--------+-------------------------------------------------------------------------------+
   | Parameter  | Type   | Description                                                                   |
   +============+========+===============================================================================+
   | hostname   | String | Specifies the host name of the port.                                          |
   +------------+--------+-------------------------------------------------------------------------------+
   | ip_address | String | Specifies the port IP address.                                                |
   +------------+--------+-------------------------------------------------------------------------------+
   | fqdn       | String | Specifies the private network fully qualified domain name (FQDN) of the port. |
   +------------+--------+-------------------------------------------------------------------------------+

.. _vpc_port02_0002__table72371439857:

.. table:: **Table 8** **binding:vif_details** object

   +-------------------+---------+-------------------------------------------------------------------------------------------------+
   | Parameter         | Type    | Description                                                                                     |
   +===================+=========+=================================================================================================+
   | primary_interface | Boolean | If the value is true, this is the primary NIC.                                                  |
   +-------------------+---------+-------------------------------------------------------------------------------------------------+
   | port_filter       | Boolean | Specifies the port used for filtering in security groups to protect against MAC or IP spoofing. |
   +-------------------+---------+-------------------------------------------------------------------------------------------------+
   | ovs_hybrid_plug   | Boolean | Specifies that OVS hybrid plug should be used by Nova APIs.                                     |
   +-------------------+---------+-------------------------------------------------------------------------------------------------+

Example Response
----------------

.. code-block::

   {
       "port": {
           "id": "791870bd-36a7-4d9b-b015-a78e9b06af08",
           "name": "port-test",
           "status": "DOWN",
           "admin_state_up": true,
           "fixed_ips": [],
           "mac_address": "fa:16:3e:01:e0:b2",
           "network_id": "00ae08c5-f727-49ab-ad4b-b069398aa171",
           "tenant_id": "db82c9e1415a464ea68048baa8acc6b8",
           "project_id": "db82c9e1415a464ea68048baa8acc6b8",
           "device_id": "",
           "device_owner": "",
           "security_groups": [
               "d0d58aa9-cda9-414c-9c52-6c3daf8534e6"
           ],
           "extra_dhcp_opts": [],
           "allowed_address_pairs": [],
           "binding:vnic_type": "normal",
           "binding:vif_details": {},
           "binding:profile": {},
           "port_security_enabled": true,
           "created_at": "2018-09-13T01:43:41",
           "updated_at": "2018-09-13T01:43:41"
       }
   }

Status Code
-----------

See :ref:`Status Codes <vpc_api_0002>`.

Error Code
----------

See :ref:`Error Codes <vpc_api_0003>`.
